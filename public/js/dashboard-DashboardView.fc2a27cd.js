"use strict";(self["webpackChunkclient_management"]=self["webpackChunkclient_management"]||[]).push([[74],{7537:function(t,e,s){s.d(e,{Z:function(){return f}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activity d-flex align-items-center",attrs:{id:t._id,role:"button"},on:{click:t.showField}},[e("b-avatar",{style:{backgroundColor:t.icon.bgColor,color:t.icon.color||"#fff"},attrs:{size:"2.5rem"}},[t.activity.action?[e(t.icon.component,t._b({tag:"component"},"component",t.icon.props,!1))]:t._e()],2),e("div",{staticClass:"activity-content ml-2"},[t._v(" "+t._s(t.title)+" "),t.$isAdmin?e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.by))]):t._e()]),e("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"text-gray ml-auto fs-sm",attrs:{role:"button",title:t.tooltipDate}},[t._v(t._s(t.date))]),e("b-popover",{attrs:{target:t._id,triggers:["hover"],placement:"top","custom-class":"d-none d-md-block"},on:{show:t.popoverShown}},[t.isLoading||!t.isFieldLoaded?e("b-spinner",{staticClass:"mx-1",attrs:{small:"",variant:"primary"}}):t._e(),t.isFieldLoaded?[t.isClient?e("ClientActivity",{attrs:{client:t.field}}):e("UserActivity",{attrs:{user:t.field}})]:t._e()],2),e("b-modal",{attrs:{id:t._id,"hide-footer":"",centered:"","modal-class":"modal_full"},scopedSlots:t._u([{key:"modal-header",fn:function({close:s}){return[e("div",{staticClass:"d-flex align-items-center justify-content-between w-100"},[e("div",{staticClass:"d-flex align-items-center"},[e("b-avatar",{style:{backgroundColor:t.icon.bgColor,color:t.icon.color||"#fff",transform:"scale(0.75)"},attrs:{size:"2.5rem"}},[t.activity.action?[e(t.icon.component,t._b({tag:"component"},"component",t.icon.props,!1))]:t._e()],2),e("span",{staticClass:"mb-0 font-sm font-weight-bold ml-2"},[t._t("title",(function(){return[t._v(" "+t._s(t.title)+" ")]}))],2)],1),t._t("btn-close",(function(){return[e("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:s}},[t._v(" Close ")])]}),null,{close:s})],2)]}}],null,!0)},[t.isLoading||!t.isFieldLoaded?e("b-spinner",{staticClass:"mx-1",attrs:{small:"",variant:"primary"}}):t._e(),t.isFieldLoaded?[t.isClient?e("ClientActivity",{attrs:{client:t.field}}):e("UserActivity",{attrs:{user:t.field}})]:t._e()],2)],1)},i=[],n=s(5130),r=s(8752),o=s(4130),l=function(){var t=this,e=t._self._c;return t.user?e("b-table-simple",{staticClass:"text-nowrap",attrs:{responsive:"",striped:"","table-class":"activity_table"}},[e("b-tbody",[e("b-tr",[e("b-td",[t._v("Full name")]),e("b-td",[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))])],1),e("b-tr",[e("b-td",[t._v("Username")]),e("b-td",[t._v(t._s(t.user.username))])],1),e("b-tr",[e("b-td",[t._v("Email")]),e("b-td",[e("a",{attrs:{href:`mailto:${t.user.email}`,target:"_blank"}},[t._v(t._s(t.user.email))])])],1),e("b-tr",[e("b-td",[t._v("Created at")]),e("b-td",[t._v(t._s(t.$timeAgo.format(new Date(t.user.created_at))))])],1)],1)],1):t._e()},c=[],d={props:{user:{type:Object}}},b=d,u=s(1001),_=(0,u.Z)(b,l,c,!1,null,null,null),p=_.exports,m={props:{activity:{type:Object,required:!0}},components:{BAvatar:n.SH,BIconPlus:r.s3j,BIconPencilFill:r.Ybx,BIconTrash:r.DkS,BIconCheck2:r._$q,BIconX:r.uR$,ClientActivity:o.Z,UserActivity:p},data(){return{actions:{create:{component:r.s3j,bgColor:"#0fbcf9",props:{scale:2}},update:{component:r.Ybx,bgColor:"#04b161",props:{}},delete:{component:r.DkS,bgColor:"#f53b57",props:{scale:1.3}},activate:{component:r._$q,bgColor:"#2980b9",props:{scale:1.5}},deactivate:{component:r.uR$,bgColor:"#ffd32a",color:"#333",props:{scale:1.7}}},isLoading:!0}},computed:{_id(){return"activity_"+this._uid},icon(){return this.actions[this.activity.action]||{}},title(){let{model:t,action:e}=this.activity;return t=t&&t.charAt(0).toUpperCase()+t.slice(1),this.$isAdmin?`${t} has been ${e}d by`:`${t} has been ${e}d`},by(){let t=this.activity.created_by,e=this.$me.id==t?.id?"me":`${t.first_name}  ${t.last_name}`;return e},date(){return this.$timeAgo.format(new Date(this.activity.created_at))},tooltipDate(){return new Date(this.activity.created_at).toLocaleString()},isClient(){return"client"==this.activity.model},isFieldLoaded(){return"object"===typeof this.field&&Object.keys(this.field).length>0},field(){return this.activity.field_id}},methods:{popoverShown(){this.isFieldLoaded||this.getField()},async getField(){this.isLoading=!0;try{await this.$store.dispatch("getLogField",this.activity)}catch(t){console.log(t)}finally{this.isLoading=!1}},async showField(){window.innerWidth<=576&&(this.$bvModal.show(this._id),this.getField())}}},v=m,h=(0,u.Z)(v,a,i,!1,null,null,null),f=h.exports},4130:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t._self._c;return t.client?e("b-table-simple",{staticClass:"text-nowrap",attrs:{responsive:"",striped:"","table-class":"activity_table"}},[e("b-tbody",[e("b-tr",[e("b-td",[t._v("Full name")]),e("b-td",[t._v(t._s(t.client.full_name))])],1),e("b-tr",[e("b-td",[t._v("Email")]),e("b-td",[e("a",{attrs:{href:`mailto:${t.client.email}`,target:"_blank"}},[t._v(t._s(t.client.email))])])],1),e("b-tr",[e("b-td",[t._v("Hardware ID")]),e("b-td",[t._v(t._s(t.client.hwID))])],1),e("b-tr",[e("b-td",[t._v("Max threads")]),e("b-td",[t._v(t._s(t.client.max_threads))])],1),e("b-tr",[e("b-td",[t._v("Max session")]),e("b-td",[t._v(t._s(t.client.max_session))])],1),e("b-tr",[e("b-td",[t._v("Panel username")]),e("b-td",[t._v(t._s(t.client.panel_username))])],1),e("b-tr",[e("b-td",[t._v("Panel password")]),e("b-td",[t._v(t._s(t.client.panel_password))])],1),e("b-tr",[e("b-td",[t._v("Panel server ip")]),e("b-td",[t._v(t._s(t.client.panel_server_ip))])],1),e("b-tr",[e("b-td",[t._v("User group")]),e("b-td",[t._v(t._s(t.client.user_group))])],1),e("b-tr",[e("b-td",[t._v("Number of random to check")]),e("b-td",[t._v(t._s(t.client.number_of_random_to_check))])],1),e("b-tr",[e("b-td",[t._v("Key")]),e("b-td",[t._v(t._s(t.client.key))])],1),e("b-tr",[e("b-td",[t._v("Created at")]),e("b-td",[t._v(t._s(t.$timeAgo.format(new Date(t.client.created_at))))])],1)],1)],1):t._e()},i=[],n={props:{client:{type:Object}}},r=n,o=s(1001),l=(0,o.Z)(r,a,i,!1,null,null,null),c=l.exports},436:function(t,e,s){s.d(e,{Z:function(){return v}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dashboard_content"},[e("base-container",{staticClass:"pt-4"},[e("b-breadcrumb",{staticClass:"bg-white border rounded shadow-sm font-weight-600 mb-4"},[e("b-breadcrumb-item",{staticClass:"d-flex align-items-center",attrs:{to:{name:"dashboard"},active:!t._breads.length}},[e("IconDashboard",{staticClass:"mr-1",staticStyle:{width:"22px"}}),t._v(" Dashboard ")],1),t._l(t._breads,(function(s,a){return e("b-breadcrumb-item",{key:a,attrs:{active:a==t._breads.length-1}},[s.component?e(s.icon,{tag:"component",class:s.class||"",style:s.style||""}):t._e(),t._v(" "+t._s(t._f("capitalize")(s.title))+" ")],1)}))],2),t.noWrap?t._t("default"):e("div",{staticClass:"bg-white px-3 py-4 rounded shadow-sm"},[t._t("default")],2)],2)],1)},i=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"base_container"},[t._t("default")],2)},r=[],o={},l=o,c=s(1001),d=(0,c.Z)(l,n,r,!1,null,"4dea56fd",null),b=d.exports,u=s(5301),_={components:{BaseContainer:b,IconDashboard:u.Z},props:{breads:{type:Array,default:()=>[]},noWrap:{type:Boolean,default:!1}},computed:{_breads(){if(this.breads.length>0)return this.breads;let t=this.$route.name;if("dashboard"==t)return[];let e=t.split(".");return e.length<=1?[]:[{title:e[1]}]}}},p=_,m=(0,c.Z)(p,a,i,!1,null,null,null),v=m.exports},9683:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var a=function(){var t=this,e=t._self._c;return e("dashboard-content",{attrs:{noWrap:""}},[e("b-row",{attrs:{"align-h":"center"}},[e("b-col",{staticClass:"mb-4",attrs:{cols:"12",sm:"4"}},[e("card-stats",{attrs:{title:"Clients",number:t.clientsCount},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconClients")]},proxy:!0}])})],1),t.$isAdmin?e("b-col",{staticClass:"mb-4",attrs:{cols:"12",sm:"4"}},[e("card-stats",{attrs:{title:"Users",number:t.usersCount},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconUsers")]},proxy:!0}],null,!1,631656522)})],1):t._e(),e("b-col",{staticClass:"mb-4",attrs:{cols:"12",sm:"4"}},[e("card-stats",{attrs:{title:"Inactive Clients",number:t.clientsInactiveCount,"number-variant":"danger"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconClients")]},proxy:!0}])})],1),e("b-col",{staticClass:"mb-4",attrs:{md:"7",lg:"8"}},[e("b-card",{attrs:{"header-class":"py-2 font-weight-bold",header:"Recent Activities"}},t._l(t.logs,(function(t,s){return e("Activity",{key:s,staticClass:"border-bottom py-3",attrs:{activity:t}})})),1)],1),e("b-col",{staticClass:"mb-3",attrs:{md:"5",lg:"4"}},[e("b-card",{attrs:{"header-class":"py-2 font-weight-bold",header:"Recent Clients","body-class":"p-0"}},[e("b-table",{staticClass:"mb-0",attrs:{fields:t.fields,items:t.clients,"per-page":15,"current-page":t.currentPage,hover:"",borderless:"",responsive:"","thead-class":"text-nowrap border-bottom fs-md text-muted","tbody-tr-class":"border-bottom fs-md text-muted"}})],1)],1)],1)],1)},i=[],n=s(436),r=s(6852),o=s(9497),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"stats_card"},[e("h2",{staticClass:"stats_card_title"},[t.$slots.icon?e("div",{staticClass:"stats_card_title_icon"},[t._t("icon")],2):t._e(),e("div",{staticClass:"stats_card_title_text"},[t._v(t._s(t.title))])]),e("div",{class:`stats_card_number text-${t.numberVariant}`},[t._v(t._s(t.number))])])},c=[],d={props:{title:{type:String,default:""},number:{type:Number,default:0},numberVariant:{type:String,default:"primary"}}},b=d,u=s(1001),_=(0,u.Z)(b,l,c,!1,null,null,null),p=_.exports,m=s(7537),v={name:"DashboardView",components:{DashboardContent:n.Z,IconClients:r.Z,IconUsers:o.Z,CardStats:p,Activity:m.Z},data(){return{fields:[{key:"full_name",tdClass:"pl-3",thClass:"pl-3"},{key:"email"}],currentPage:1,clientsCount:0,usersCount:0,clientsInactiveCount:0}},mounted(){this.$store.dispatch("getClients","?type=count").then((t=>this.clientsCount=t.count)),this.$isAdmin&&this.$store.dispatch("getUsers","?type=count").then((t=>this.usersCount=t.count)),this.$store.dispatch("getClients","?type=inactive-count").then((t=>this.clientsInactiveCount=t.count)),this.$store.dispatch("getClients","?per_page=10"),this.$store.dispatch("getLogs","?per_page=8")},computed:{clients(){return this.$store.state.dashboard.clients.results},logs(){return this.$store.state.dashboard.logs.results}}},h=v,f=(0,u.Z)(h,a,i,!1,null,null,null),y=f.exports}}]);